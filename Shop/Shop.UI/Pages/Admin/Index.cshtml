@page
@model Shop.UI.Pages.Admin.IndexModel
@{
    ViewData["Title"] = "Менеджмент товаров";
}

<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Список товаров</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="/Admin/AdminMain">Главная</a></li>
                    <li class="breadcrumb-item active">Список товаров</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
   
    <div class="container-fluid">
        <div v-if="!editing">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            Весь ассортимент магазина. Нажмите на строку, чтобы отредактировать соответствующий товар.
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <button class="btn btn-info" @@click="newProduct">Добавить товар</button>
                            
                            <table id="example2" class="table table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th class="align">ID</th>
                                        <th class="align">Статус</th>
                                        <th class="align">Изображение</th>
                                        <th class="align">Название</th>
                                        <th class="align">Цена (р.)</th>
                                        <th class="align">Кол-во</th>
                                        <th class="align">Отметки</th>
                                        <th class="align">Дата создания</th>
                                        <th class="align">СР</th>
                                        <th class="align"><i class="fa fa-times"></i></th>
                                    </tr>
                                </thead>
                                <tbody>

                                    <tr v-for="(product, index) in products" >
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="align">{{product.id}}</td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">
                                            <label v-if="product.isActive===true" style="color: limegreen">Активен</label>
                                            <label v-else style="color:red">Неактивен</label>
                                        </td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="product-col align">
                                            <div class="product">
                                                <div class="image">
                                                    <a asp-page="/Product">
                                                        <img :src="'/images/productsfolder/' + product.image" class="img-circle elevation-2" width="100" height="100" />
                                                    </a>
                                                </div>
                                            </div>
                                        </td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">{{product.description}}-{{product.name}}</td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">{{product.value}}</td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">{{product.stockc}}</td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">
                                            <label v-if="product.isNew===true">Новинка</label>
                                            <label v-else></label>
                                            <label v-if="product.isTrending===true">Популярный</label>
                                            <label v-else></label>
                                            <label v-if="product.isTrending===false && product.isNew===false">Нет отметок</label>
                                        </td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">
                                            {{product.dateTime}}
                                        </td>
                                        <td @@click="editProduct(product.id, index); selectProduct(product)" class="price-col align">
                                            <label v-if="!product.avRating">Нет</label>
                                            <label v-else>{{product.avRating}}</label>
                                        </td>
                                        <td class="align"><i class="fa fa-times" @@click="deleteProduct(product.id, index)"></i></td>
                                    </tr>

                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th class="align">ID</th>
                                        <th class="align">Статус</th>
                                        <th class="align">Изображение</th>
                                        <th class="align">Название</th>
                                        <th class="align">Цена (р.)</th>
                                        <th class="align">Кол-во</th>
                                        <th class="align">Отметки</th>
                                        <th class="align">Дата создания</th>
                                        <th class="align">СР</th>
                                        <th class="align"><i class="fa fa-times"></i></th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                        <!-- /.card-body -->
                    </div>
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </div>
        <div v-else>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card card-primary" style="max-height: 580px">
                        <div class="card-header">
                            <h3 class="card-title">Общая информация о товаре</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form enctype="multipart/form-data">
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="exampleInputEmail1">Название</label>
                                    <input type="text" class="form-control" v-model="productModel.name">
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Производитель</label>
                                    <input list="description" class="form-control" v-model="productModel.description">
                                    <datalist id="description">
                                        <option value="Brusko"></option>
                                        <option value="Eleaf"></option>
                                        <option value="GeekVape"></option>
                                        <option value="Joyetech"></option>
                                        <option value="JustFog"></option>
                                        <option value="Smoant"></option>
                                        <option value="Vaporesso"></option>
                                        <option value="VooPoo"></option>
                                        <option value="Fill POD"></option>
                                        <option value="VapeOnly"></option>
                                    </datalist>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Базовая цена</label>
                                    <input type="number" step="0.01" class="form-control" v-model.number="productModel.value">
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputFile">Изображение</label>
                                    <div class="input-group">
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" name="image" id="image" @@change="onFileChange">>
                                            <label class="custom-file-label" for="exampleInputFile">Выберите файл</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Категория</label>
                                    <select class="custom-select" id="select" onchange="selectChanged()" v-model="productModel.category">
                                        <option value="POD">POD</option>
                                        <option value="MOD">MOD</option>
                                        <option value="Vape">Vape</option>
                                        <option value="Одноразка">Одноразка</option>
                                        <option value="Атомайзер">Атомайзер</option>
                                        <option value="Испаритель">Испаритель</option>
                                        <option value="Аккумулятор">Аккумулятор</option>
                                        <option value="Жидкость">Жидкость</option>
                                    </select>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" id="customCheckbox1" value="option1" v-model="productModel.isNew">
                                    <label for="customCheckbox1" class="custom-control-label">Новинка</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" id="customCheckbox3" value="option3" v-model="productModel.isTrending">
                                    <label for="customCheckbox3" class="custom-control-label">Популярный</label>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" id="customCheckbox4" value="option4" v-model="productModel.isActive">
                                    <label for="customCheckbox4" class="custom-control-label">На продаже</label>
                                </div>
                            </div>
                            <!-- /.card-body -->
                        </form>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card card-primary" v-if="!productModel.id" style="max-height: 580px; height:580px">
                        <div class="card-header">
                            <h3 class="card-title">Характеристики</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form class=" prokrutka">
                            <div class="card-body">
                                <div class="form-group" id="box1">
                                    <label for="exampleInputEmail1">Емкость аккумулятора</label>
                                    <input list="accumCapacity" class="form-control" v-model="newSpecification.accumCapacity">
                                    <datalist id="accumCapacity">
                                        <option value="240mAh"></option>
                                        <option value="350mAh"></option>
                                        <option value="400mAh"></option>
                                        <option value="500mAh"></option>
                                        <option value="650mAh"></option>
                                        <option value="750mAh"></option>
                                        <option value="800mAh"></option>
                                        <option value="900mAh"></option>
                                        <option value="1000mAh"></option>
                                        <option value="1500mAh"></option>
                                        <option value="2000mAh"></option>
                                        <option value="2500mAh"></option>
                                        <option value="3000mAh"></option>
                                        <option value="3500mAh"></option>
                                        <option value="4000mAh"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box2">
                                    <label for="exampleInputPassword1">Дисплей</label>
                                    <input list="screen" class="form-control" v-model="newSpecification.screen">
                                    <datalist id="screen">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box3">
                                    <label for="exampleInputPassword1">Встроенный аккумулятор</label>
                                    <input list="builtInAccum" class="form-control" v-model="newSpecification.builtInAccum">
                                    <datalist id="builtInAccum">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box4">
                                    <label for="exampleInputPassword1">Максимальная мощность</label>
                                    <input list="maxVoltage" class="form-control" v-model="newSpecification.maxVoltage">
                                    <datalist id="maxVoltage">
                                        <option value="10W"></option>
                                        <option value="15W"></option>
                                        <option value="30W"></option>
                                        <option value="40W"></option>
                                        <option value="60W"></option>
                                        <option value="80W"></option>
                                        <option value="100W"></option>
                                        <option value="150W"></option>
                                        <option value="200W"></option>
                                        <option value="250W"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box5">
                                    <label for="exampleInputPassword1">Регулировка мощности</label>
                                    <input list="voltageChange" class="form-control" v-model="newSpecification.voltageChange">
                                    <datalist id="voltageChange">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box6">
                                    <label for="exampleInputPassword1">Объем бака</label>
                                    <input list="bakValue" class="form-control" v-model="newSpecification.bakValue">
                                    <datalist id="bakValue">
                                        <option value="0.4 мл."></option>
                                        <option value="1 мл."></option>
                                        <option value="1.5 мл."></option>
                                        <option value="2.0 мл."></option>
                                        <option value="3.0 мл."></option>
                                        <option value="3.5 мл."></option>
                                        <option value="4.0 мл."></option>
                                        <option value="4.5 мл."></option>
                                        <option value="5.5 мл."></option>
                                        <option value="6.0 мл."></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box7">
                                    <label for="exampleInputPassword1">Кол-во затяжек</label>
                                    <input list="puffCol" class="form-control" v-model="newSpecification.puffCol">
                                    <datalist id="puffCol">
                                        <option value="300"></option>
                                        <option value="800"></option>
                                        <option value="1500"></option>
                                        <option value="1600"></option>
                                        <option value="2200"></option>
                                        <option value="2500"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box8">
                                    <label for="exampleInputPassword1">Вкус</label>
                                    <input type="text" class="form-control" v-model="newSpecification.flavour">
                                </div>
                                <div class="form-group" id="box9">
                                    <label for="exampleInputPassword1">VG/PG</label>
                                    <input list="vgpg" class="form-control" v-model="newSpecification.vgpg">
                                    <datalist id="vgpg">
                                        <option value="30/70"></option>
                                        <option value="50/50"></option>
                                        <option value="60/40"></option>
                                        <option value="70/30"></option>
                                        <option value="75/25"></option>
                                        <option value="80/20"></option>
                                        <option value="40/60"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box10">
                                    <label for="exampleInputPassword1">Тип никотина</label>
                                    <input list="nic" class="form-control" v-model="newSpecification.nic">
                                    <datalist id="nic">
                                        <option value="Классический"></option>
                                        <option value="Солевой"></option>
                                        <option value="Безникотиновый"></option>
                                        <option value="Гибридный"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box11">
                                    <label for="exampleInputPassword1">Крепость жидкости</label>
                                    <input list="nicProp" class="form-control" v-model="newSpecification.nicProp">
                                    <datalist id="nicProp">
                                        <option value="0 мг/мл"></option>
                                        <option value="1 мг/мл"></option>
                                        <option value="1.5 мг/мл"></option>
                                        <option value="2 мг/мл"></option>
                                        <option value="2.5 мг/мл">2.5 мг/мл</option>
                                        <option value="3 мг/мл">3 мг/мл</option>
                                        <option value="4 мг/мл">4 мг/мл</option>
                                        <option value="6 мг/мл">6 мг/мл</option>
                                        <option value="9 мг/мл">9 мг/мл</option>
                                        <option value="20 мг/мл">20 мг/мл</option>
                                        <option value="20 мг/мл (Lights)">20 мг/мл (Lights)</option>
                                        <option value="20 мг/мл (ULTRA)">20 мг/мл (ULTRA)</option>
                                        <option value="20 (Strong)">20 (Strong)</option>
                                        <option value="20 мг/мл (Extra)">20 мг/мл (Extra)</option>
                                        <option value="25 мг/мл"></option>
                                        <option value="30 мг/мл"></option>
                                        <option value="35 мг/мл"></option>
                                        <option value="40 мг/мл"></option>
                                        <option value="45 мг/мл"></option>
                                        <option value="50 мг/мл"></option>
                                        <option value="60 мг/мл"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box12">
                                    <label for="exampleInputPassword1">Объем жидкости</label>
                                    <input list="liqValue" class="form-control" v-model="newSpecification.liqValue">
                                    <datalist id="liqValue">
                                        <option value="10 мл."></option>
                                        <option value="25 мл."></option>
                                        <option value="30 мл."></option>
                                        <option value="50 мл."></option>
                                        <option value="60 мл."></option>
                                        <option value="70 мл."></option>
                                        <option value="75 мл."></option>
                                        <option value="80 мл."></option>
                                        <option value="100 мл."></option>
                                        <option value="120 мл."></option>
                                        <option value="125 мл."></option>
                                        <option value="180 мл."></option>
                                        <option value="200 мл."></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box13">
                                    <label for="exampleInputPassword1">MTL</label>
                                    <input list="mtl" class="form-control" v-model="newSpecification.mtl">
                                    <datalist id="mtl">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box14">
                                    <label for="exampleInputPassword1">Количество спиралей</label>
                                    <input list="spiral" class="form-control" v-model="newSpecification.spiral">
                                    <datalist id="spiral">
                                        <option value="1"></option>
                                        <option value=""></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box15">
                                    <label for="exampleInputPassword1">Тип обдува</label>
                                    <input list="obduv" class="form-control" v-model="newSpecification.obduv">
                                    <datalist id="obduv">
                                        <option value="Верхний"></option>
                                        <option value="Боковой"></option>
                                        <option value="Нижний"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box16">
                                    <label for="exampleInputPassword1">Тип</label>
                                    <input list="type" class="form-control" v-model="newSpecification.type">
                                    <datalist id="type">
                                        <option value="RDA"></option>
                                        <option value="RTA"></option>
                                        <option value="RDTA"></option>
                                        <option value="Необслуживаемый"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box17">
                                    <label for="exampleInputPassword1">Максимальный ток отдачи</label>
                                    <input list="amper" class="form-control" v-model="newSpecification.amper">
                                    <datalist id="amper">
                                        <option value="5A"></option>
                                        <option value="20А"></option>
                                        <option value="30А"></option>
                                        <option value="40А"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box18">
                                    <label for="exampleInputPassword1">Время зарядки</label>
                                    <input list="charghingTime" class="form-control" v-model="newSpecification.charghingTime">
                                    <datalist id="charghingTime">
                                        <option value="20 минут"></option>
                                        <option value="30 минут"></option>
                                        <option value="40 минут"></option>
                                        <option value="45 минут"></option>
                                        <option value="50 минут"></option>
                                        <option value="60 минут"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box19">
                                    <label for="exampleInputPassword1">Длина</label>
                                    <input list="length" class="form-control" v-model="newSpecification.length">
                                    <datalist id="length">
                                        <option value="50 мм"></option>
                                        <option value="100 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box20">
                                    <label for="exampleInputPassword1">Ширина</label>
                                    <input list="width" class="form-control" v-model="newSpecification.width">
                                    <datalist id="width">
                                        <option value="15 мм"></option>
                                        <option value="30 мм"></option>
                                        <option value="50 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box21">
                                    <label for="exampleInputPassword1">Толщина</label>
                                    <input list="size" class="form-control" v-model="newSpecification.size">
                                    <datalist id="size">
                                        <option value="10 мм"></option>
                                        <option value="20 мм"></option>
                                        <option value="30 мм"></option>
                                        <option value="40 мм"></option>
                                        <option value="50 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box22">
                                    <label for="exampleInputPassword1">Вес</label>
                                    <input list="weigth" class="form-control" v-model="newSpecification.weigth">
                                    <datalist id="weigth">
                                        <option value="30 гр."></option>
                                        <option value="40 гр."></option>
                                        <option value="50 гр."></option>
                                        <option value="60 гр."></option>
                                        <option value="100 гр."></option>
                                    </datalist>
                                </div>
                            </div>
                            <!-- /.card-body -->

                        </form>
                    </div>
                    <div class="card card-primary" v-else style="max-height: 580px; height:580px">
                        <div class="card-header">
                            <h3 class="card-title">Характеристики</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form class="prokrutka">
                            <div class="card-body" v-for="(specification, index) in selectedProduct.specification">
                                <div class="form-group" id="box1">
                                    <label for="exampleInputEmail1">Емкость аккумулятора</label>
                                    <input list="accumCapacity" class="form-control" v-model="specification.accumCapacity">
                                    <datalist id="accumCapacity">
                                        <option value="240mAh"></option>
                                        <option value="350mAh"></option>
                                        <option value="400mAh"></option>
                                        <option value="500mAh"></option>
                                        <option value="650mAh"></option>
                                        <option value="750mAh"></option>
                                        <option value="800mAh"></option>
                                        <option value="900mAh"></option>
                                        <option value="1000mAh"></option>
                                        <option value="1500mAh"></option>
                                        <option value="2000mAh"></option>
                                        <option value="2500mAh"></option>
                                        <option value="3000mAh"></option>
                                        <option value="3500mAh"></option>
                                        <option value="4000mAh"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box2">
                                    <label for="exampleInputPassword1">Дисплей</label>
                                    <input list="screen" class="form-control" v-model="specification.screen">
                                    <datalist id="screen">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box3">
                                    <label for="exampleInputPassword1">Встроенный аккумулятор</label>
                                    <input list="builtInAccum" class="form-control" v-model="specification.builtInAccum">
                                    <datalist id="builtInAccum">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box4">
                                    <label for="exampleInputPassword1">Максимальная мощность</label>
                                    <input list="maxVoltage" class="form-control" v-model="specification.maxVoltage">
                                    <datalist id="maxVoltage">
                                        <option value="10W"></option>
                                        <option value="15W"></option>
                                        <option value="30W"></option>
                                        <option value="40W"></option>
                                        <option value="60W"></option>
                                        <option value="80W"></option>
                                        <option value="100W"></option>
                                        <option value="150W"></option>
                                        <option value="200W"></option>
                                        <option value="250W"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box5">
                                    <label for="exampleInputPassword1">Регулировка мощности</label>
                                    <input list="voltageChange" class="form-control" v-model="specification.voltageChange">
                                    <datalist id="voltageChange">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box6">
                                    <label for="exampleInputPassword1">Объем бака</label>
                                    <input list="bakValue" class="form-control" v-model="specification.bakValue">
                                    <datalist id="bakValue">
                                        <option value="0.4 мл."></option>
                                        <option value="1 мл."></option>
                                        <option value="1.5 мл."></option>
                                        <option value="2.0 мл."></option>
                                        <option value="3.0 мл."></option>
                                        <option value="3.5 мл."></option>
                                        <option value="4.0 мл."></option>
                                        <option value="4.5 мл."></option>
                                        <option value="5.5 мл."></option>
                                        <option value="6.0 мл."></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box7">
                                    <label for="exampleInputPassword1">Кол-во затяжек</label>
                                    <input list="puffCol" class="form-control" v-model="specification.puffCol">
                                    <datalist id="puffCol">
                                        <option value="300"></option>
                                        <option value="800"></option>
                                        <option value="1500"></option>
                                        <option value="1600"></option>
                                        <option value="2200"></option>
                                        <option value="2500"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box8">
                                    <label for="exampleInputPassword1">Вкус</label>
                                    <input type="text" class="form-control" v-model="specification.flavour">
                                </div>
                                <div class="form-group" id="box9">
                                    <label for="exampleInputPassword1">VG/PG</label>
                                    <input list="vgpg" class="form-control" v-model="specification.vgpg">
                                    <datalist id="vgpg">
                                        <option value="30/70"></option>
                                        <option value="50/50"></option>
                                        <option value="60/40"></option>
                                        <option value="70/30"></option>
                                        <option value="75/25"></option>
                                        <option value="80/20"></option>
                                        <option value="40/60"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box10">
                                    <label for="exampleInputPassword1">Тип никотина</label>
                                    <input list="nic" class="form-control" v-model="specification.nic">
                                    <datalist id="nic">
                                        <option value="Классический"></option>
                                        <option value="Солевой"></option>
                                        <option value="Безникотиновый"></option>
                                        <option value="Гибридный"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box11">
                                    <label for="exampleInputPassword1">Крепость жидкости</label>
                                    <input list="nicProp" class="form-control" v-model="specification.nicProp">
                                    <datalist id="nicProp">
                                        <option value="0 мг/мл"></option>
                                        <option value="1 мг/мл"></option>
                                        <option value="1.5 мг/мл"></option>
                                        <option value="2 мг/мл"></option>
                                        <option value="2.5 мг/мл">2.5 мг/мл</option>
                                        <option value="3 мг/мл">3 мг/мл</option>
                                        <option value="4 мг/мл">4 мг/мл</option>
                                        <option value="6 мг/мл">6 мг/мл</option>
                                        <option value="9 мг/мл">9 мг/мл</option>
                                        <option value="20 мг/мл">20 мг/мл</option>
                                        <option value="20 мг/мл (Lights)">20 мг/мл (Lights)</option>
                                        <option value="20 мг/мл (ULTRA)">20 мг/мл (ULTRA)</option>
                                        <option value="20 (Strong)">20 (Strong)</option>
                                        <option value="20 мг/мл (Extra)">20 мг/мл (Extra)</option>
                                        <option value="25 мг/мл"></option>
                                        <option value="30 мг/мл"></option>
                                        <option value="35 мг/мл"></option>
                                        <option value="40 мг/мл"></option>
                                        <option value="45 мг/мл"></option>
                                        <option value="50 мг/мл"></option>
                                        <option value="60 мг/мл"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box12">
                                    <label for="exampleInputPassword1">Объем жидкости</label>
                                    <input list="liqValue" class="form-control" v-model="specification.liqValue">
                                    <datalist id="liqValue">
                                        <option value="10 мл."></option>
                                        <option value="25 мл."></option>
                                        <option value="30 мл."></option>
                                        <option value="50 мл."></option>
                                        <option value="60 мл."></option>
                                        <option value="70 мл."></option>
                                        <option value="75 мл."></option>
                                        <option value="80 мл."></option>
                                        <option value="100 мл."></option>
                                        <option value="120 мл."></option>
                                        <option value="125 мл."></option>
                                        <option value="180 мл."></option>
                                        <option value="200 мл."></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box13">
                                    <label for="exampleInputPassword1">MTL</label>
                                    <input list="mtl" class="form-control" v-model="specification.mtl">
                                    <datalist id="mtl">
                                        <option value="Да"></option>
                                        <option value="Нет"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box14">
                                    <label for="exampleInputPassword1">Количество спиралей</label>
                                    <input list="spiral" class="form-control" v-model="specification.spiral">
                                    <datalist id="spiral">
                                        <option value="1"></option>
                                        <option value=""></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box15">
                                    <label for="exampleInputPassword1">Тип обдува</label>
                                    <input list="obduv" class="form-control" v-model="specification.obduv">
                                    <datalist id="obduv">
                                        <option value="Верхний"></option>
                                        <option value="Боковой"></option>
                                        <option value="Нижний"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box16">
                                    <label for="exampleInputPassword1">Тип</label>
                                    <input list="type" class="form-control" v-model="specification.type">
                                    <datalist id="type">
                                        <option value="RDA"></option>
                                        <option value="RTA"></option>
                                        <option value="RDTA"></option>
                                        <option value="Необслуживаемый"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box17">
                                    <label for="exampleInputPassword1">Максимальный ток отдачи</label>
                                    <input list="amper" class="form-control" v-model="specification.amper">
                                    <datalist id="amper">
                                        <option value="5A"></option>
                                        <option value="20А"></option>
                                        <option value="30А"></option>
                                        <option value="40А"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box18">
                                    <label for="exampleInputPassword1">Время зарядки</label>
                                    <input list="charghingTime" class="form-control" v-model="specification.charghingTime">
                                    <datalist id="charghingTime">
                                        <option value="20 минут"></option>
                                        <option value="30 минут"></option>
                                        <option value="40 минут"></option>
                                        <option value="45 минут"></option>
                                        <option value="50 минут"></option>
                                        <option value="60 минут"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box19">
                                    <label for="exampleInputPassword1">Длина</label>
                                    <input list="length" class="form-control" v-model="specification.length">
                                    <datalist id="length">
                                        <option value="50 мм"></option>
                                        <option value="100 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box20">
                                    <label for="exampleInputPassword1">Ширина</label>
                                    <input list="width" class="form-control" v-model="specification.width">
                                    <datalist id="width">
                                        <option value="15 мм"></option>
                                        <option value="30 мм"></option>
                                        <option value="50 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box21">
                                    <label for="exampleInputPassword1">Толщина</label>
                                    <input list="size" class="form-control" v-model="specification.size">
                                    <datalist id="size">
                                        <option value="10 мм"></option>
                                        <option value="20 мм"></option>
                                        <option value="30 мм"></option>
                                        <option value="40 мм"></option>
                                        <option value="50 мм"></option>
                                    </datalist>
                                </div>
                                <div class="form-group" id="box22">
                                    <label for="exampleInputPassword1">Вес</label>
                                    <input list="weigth" class="form-control" v-model="specification.weigth">
                                    <datalist id="weigth">
                                        <option value="30 гр."></option>
                                        <option value="40 гр."></option>
                                        <option value="50 гр."></option>
                                        <option value="60 гр."></option>
                                        <option value="100 гр."></option>
                                    </datalist>
                                </div>
                            </div>
                            <!-- /.card-body -->

                        </form>

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card card-info" v-if="selectedProduct" style="min-height: 564px;">
                        <div class="card-header">
                            <h3 class="card-title">Вариации</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form class="prokrutka" enctype="multipart/form-data">
                            <div class="card-body" v-if="selectedProduct">
                                <table id="example1" class="table table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th class="align">Id</th>
                                            <th class="align"><i class="fa fa-shopping-cart"></i></th>
                                            <th class="align">Наименование</th>
                                            <th class="align">BYN</th>
                                            <th class="align"><i class="fa fa-percent"></i></th>
                                            <th class="align"><i class="fa fa-archive"></i></th>
                                            <th class="align">Фото</th>
                                            <th><i class="fa fa-times"></i></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="(stock, index) in selectedProduct.stock">
                                            <td>{{stock.id}}</td>
                                            <td class="align" style="max-width: 20px;"><input class="input" type="checkbox" id="customCheckbox5" value="option5" v-model="stock.isActive" style="max-width: 40px;" /></td>
                                            <td class="align"><input class="input customInput" v-model="stock.description" /><i v-if="colorIndicate" class="fas fa-square" name="colorIndicator"></i></td>
                                            <td class="align"><input class="input customInput" v-model.number="stock.value" style="max-width: 50px;" /></td>
                                            <td class="align"><input class="input customInput" v-model.number="stock.isOnSale" style="max-width: 40px;" /></td>
                                            <td class="align"><input class="input customInput" v-model.number="stock.qty" style="max-width: 40px;" /></td>
                                            <td class="align">
                                                <figure class="product-media">
                                                    <img :src="'/images/productsfolder/' + stock.propImage" class="img-circle elevation-2" width="50" height="50" />
                                                </figure>
                                            </td>
                                            <td class="align"><i class="fa fa-times" @@click="deleteStock(stock.id, index)"></i></td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th class="align">Id</th>
                                            <th class="align"><i class="fa fa-shopping-cart"></i></th>
                                            <th class="align">Наименование</th>
                                            <th class="align">BYN</th>
                                            <th class="align"><i class="fa fa-percent"></i></th>
                                            <th class="align"><i class="fa fa-archive"></i></th>
                                            <th class="align">Фото</th>
                                            <th><i class="fa fa-times"></i></th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                            <!-- /.card-body -->
                        </form>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card card-info" v-if="selectedProduct" style="max-height: 650px;">
                        <div class="card-header">
                            <h3 class="card-title">Добавить вариацию товара</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form enctype="multipart/form-data">
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="exampleInputEmail1">Название</label>
                                    <input type="text" class="form-control" v-model="newStock.description">
                                </div>


                                <div class="form-group" v-if="colorIndicate">
                                    <label>Color picker with addon:</label>

                                    <div class="input-group color1">
                                        <input type="text" class="form-control" id="colorPicker">

                                        <div class="input-group-append">
                                            <span class="input-group-text"><i class="fas fa-square"></i></span>
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label for="exampleInputPassword1">Количество на складе</label>
                                    <input type="text" class="form-control" v-model.number="newStock.qty">
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Цена</label>
                                    <input type="text" id="value" class="form-control" v-model.number="newStock.value" @@change="saleCost">
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputFile">Изображение</label>
                                    <div class="input-group">
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" name="image" id="image" @@change="onFileChangeStock">
                                            <label class="custom-file-label" for="exampleInputFile">Выберите файл</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="custom-control custom-checkbox">
                                        <input class="custom-control-input" type="checkbox" id="customCheckbox2" @@click="saleChecked(); saleCost()" value="option2">
                                        <label for="customCheckbox2" class="custom-control-label">На скидке</label>
                                        <input type="number" min="0" max="100" id="SaleInput" class="customInput hidden" v-model.number="newStock.isOnSale" @@change="saleCost" style="max-width: 60px">
                                        <label for="SaleInput">%</label>
                                        <label class="hidden" id="SaleText" style="float: right"></label>
                                    </div>
                                </div>
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" id="customCheckbox6" value="option6" v-model="newStock.isActive">
                                    <label for="customCheckbox6" class="custom-control-label">На продаже</label>
                                </div>
                            </div>
                            <div class="card-footer">
                                <a class="btn btn-info" @@click="addStock">Добавить</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card card-success" v-if="selectedProduct">
                        <div class="card-header">
                            <h3 class="card-title">Комментарии</h3>
                            <h3 class="card-title" style="float:right" id="reviewRate"><i class="fa fa-star"></i> {{selectedProduct.avRating}}</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form style="overflow-y: scroll; height: 538px">
                            <div class="card-body" v-for="(review, index) in selectedProduct.review">
                                <div class="card card-success card-outline">
                                    <div class="card-header">
                                        <h5 class="card-title">{{review.commentatorName}}</h5>
                                        <div class="card-tools">
                                            <a class="btn btn-tool btn-link"><i class="fa fa-star"></i>{{review.rating}}</a>
                                            <a class="btn btn-tool " @@click="deleteReview(review.id, index)">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <label for="exampleInputPassword1">{{review.title}}</label>
                                        <p>
                                            {{review.comments}}
                                        </p>
                                    </div>
                                    <div class="card-footer">
                                        {{review.thisDateTime}}
                                        <h6 style="float:right">{{review.email}}</h6>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card-body -->
                        </form>
                    </div>

                </div>
                <div class="col-lg-6">
                    <div class="card card-success" v-if="selectedProduct">
                        <div class="card-header">
                            <h3 class="card-title">Добавить комментарий</h3>
                        </div>
                        <!-- /.card-header -->
                        <!-- form start -->
                        <form>
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Имя</label>
                                    <input type="text" class="form-control" v-model="newReview.commentatorName" />
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Email</label>
                                    <input type="email" class="form-control" v-model="newReview.email" />
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Заголовок</label>
                                    <input type="text" class="form-control" v-model="newReview.title" />
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputPassword1">Текст</label>
                                    <input type="text" class="form-control" v-model="newReview.comments" />
                                </div>
                                <div class="field">
                                    <div class="control">
                                        <!-- Change starability-basic to different class to see animations. -->
                                        <label for="exampleInputPassword1">Оценка:</label>
                                        <fieldset class="starability-basic">
                                            <input type="radio" id="no-rate" class="input-no-rate" name="rating" value="0" checked aria-label="No rating." />

                                            <input type="radio" id="rate1" name="rating" value="1" @@click="newReview.rating = 1" />
                                            <label for="rate1">1.</label>

                                            <input type="radio" id="rate2" name="rating" value="2" @@click="newReview.rating = 2" />
                                            <label for="rate2">2</label>

                                            <input type="radio" id="rate3" name="rating" value="3" @@click="newReview.rating = 3" />
                                            <label for="rate3">3</label>

                                            <input type="radio" id="rate4" name="rating" value="4" @@click="newReview.rating = 4" />
                                            <label for="rate4">4</label>

                                            <input type="radio" id="rate5" name="rating" value="5" @@click="newReview.rating = 5" />
                                            <label for="rate5">5</label>

                                            <span class="starability-focus-ring"></span>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card-body -->

                            <div class="card-footer">
                                <a class="btn btn-success" @@click="addReview">Добавить</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row hidden" id="descr">
            <div class="col-md-12">
                <div class="card card-outline card-info">
                    <div class="card-header">
                        <h3 class="card-title">
                            Описание
                        </h3>
                    </div>

                    <div class="card-body">
                        <div id="editor" v-model="productModel.fullDescription" style="min-height: 500px; overflow: hidden;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="customSticky" v-if="editing">
            <div class="rectangle">
                <a class="btn btn-success" @@click="createProduct()" v-if="!productModel.id" style="margin-left: 15px; margin-top: 8px">Создать</a>
                <a class="btn btn-success" @@click="updateProduct" v-else style="margin-left: 15px; margin-top: 8px">Применить</a>
                <a class="btn btn-danger float-right" href="/Admin" @@click="cancel()" style="margin-right: 15px; margin-top: 8px">Вернуться</a>
            </div>
        </div>
    </div>
</section>



@section scripts
{
    <script src="/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="/plugins/jszip/jszip.min.js"></script>
    <script src="/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
    <script src="/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
    <script src="~/js/admin/products.js"></script>
    <script>
        window.onload = function () {
            $(function () {
                $("#example1").on("draw.dt", function () {
                    $(this).find(".dataTables_empty").parents('tbody').empty();
                }).DataTable({
                    filter: true,
                    paging: false,
                    lengthChange: false,
                    searching: false,
                    ordering: true,
                    info: false,
                    autoWidth: false,
                    responsive: false,
                    scrollY: '50vh',
                    scrollCollapse: true,
                    dom: '<"top"flp>rt<"bottom"i><"clear">',
                    language: {
                        url: '//cdn.datatables.net/plug-ins/1.11.4/i18n/ru.json',

                    }
                });
                $("#example2").on("draw.dt", function () {
                    $(this).find(".dataTables_empty").parents('tbody').empty();
                }).DataTable({
                    filter: true,
                    paging: false,
                    lengthChange: false,
                    searching: true,
                    ordering: true,
                    info: false,
                    autoWidth: false,
                    responsive: true,
                    statesave: true,
                    dom: '<"top"flp>rt<"bottom"i><"clear">',
                    language: {
                        url: '//cdn.datatables.net/plug-ins/1.11.4/i18n/ru.json',

                    }
                });
            });
        }
    </script>
    <script>

        $(function () {
            bsCustomFileInput.init();
        });
    </script>
    <script>
        var display = {
            POD: [1, 10],
            POD: [1, 2, 3, 4, 5, 6, 18, 19, 20, 21, 22],
            MOD: [1, 2, 3, 4, 5, 6, 18, 19, 20, 21, 22],
            Vape: [1, 2, 3, 4, 5, 6, 18, 19, 20, 21, 22],
            Одноразка: [1, 6, 7],
            Атомайзер: [16, 15, 14, 13],
            Испаритель: [14, 16, 4],
            Аккумулятор: [1, 16, 17],
            Жидкость: [9, 11, 10, 12],
        }

        function selectChanged() {
            var sel = document.getElementById("select");
            for (var i = 1; i < 23; i++) {
                document.getElementById("box" + i).classList.add("hidden");
            }
            display[sel.value].forEach(function (i) {
                document.getElementById("box" + i).classList.remove("hidden");
            });
        }
    </script>
    <script>
        function saleChecked() {
            if (document.getElementById("customCheckbox2").checked == true) {
                document.getElementById("SaleInput").classList.remove("hidden");
                document.getElementById("SaleText").classList.remove("hidden");
            }
            else {
                document.getElementById("SaleInput").value = 0;
                console.log("yess");
                document.getElementById("SaleInput").classList.add("hidden");
                document.getElementById("SaleText").classList.add("hidden");
            }
        }
        function saleCost() {
            document.getElementById("SaleText").innerHTML = "Цена со скидкой: " + ((document.getElementById("value").value - (document.getElementById("SaleInput").value / 100 * document.getElementById("value").value)).toFixed(2));
        }
    </script>
    <script>
        toastr.options = {
            "closeButton": false,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-bottom-right",
            "preventDuplicates": false,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }
    </script>


}
